{% extends "base.html" %}
{% block title %}Register â€” RE Marketplace{% endblock %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-8 col-lg-7">
    <div class="card"><div class="card-body">
      <h2 class="card-title mb-3">Register</h2>
      <form method="POST">
        {{ form.hidden_tag() }}
        <div class="row">
          <div class="col-md-6"><div class="mb-3">{{ form.first_name.label(class="form-label") }}{{ form.first_name(class="form-control") }}</div></div>
          <div class="col-md-6"><div class="mb-3">{{ form.surname.label(class="form-label") }}{{ form.surname(class="form-control") }}</div></div>
        </div>
        <div class="mb-3">{{ form.email.label(class="form-label") }}{{ form.email(class="form-control") }}</div>
        <div class="row">
          <div class="col-md-6"><div class="mb-3">{{ form.password.label(class="form-label") }}{{ form.password(class="form-control") }}</div></div>
          <div class="col-md-6"><div class="mb-3">{{ form.confirm_password.label(class="form-label") }}{{ form.confirm_password(class="form-control") }}</div></div>
        </div>
        <div class="mb-3">{{ form.role.label(class="form-label") }}{{ form.role(class="form-select") }}</div>
        <div class="row">
          <div class="col-md-6"><div class="mb-3">{{ form.company_name.label(class="form-label") }}{{ form.company_name(class="form-control") }}</div></div>
          <div class="col-md-6"><div class="mb-3">{{ form.position_in_company.label(class="form-label") }}{{ form.position_in_company(class="form-control") }}</div></div>
        </div>
        
 
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              {{ form.phone.label(class="form-label") }}
              {{ form.phone(class="form-control") }}
            </div>
          </div>
        

        <div class="col-md-6">
          <div class="mb-3" id="aum-field">
            {{ form.aum.label(class="form-label") }}
            {{ form.aum(class="form-select") }}
          </div>
        </div>          
          
        </div>
        
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              {{ form.track_record.label(class="form-label") }}
              {{ form.track_record(class="form-control") }}
            </div>
          </div>
        
          <div class="col-md-6">
            <div class="mb-3">
              {{ form.geo_focus.label(class="form-label") }}
              {{ form.geo_focus(class="form-control") }}
            </div>
          </div>
        </div>
        
        <div class="d-grid">{{ form.submit(class="btn btn-success") }}</div>


     
      </form>
    </div></div>
  </div>
</div>

<script>
  function toggleAUM() {
    const role = document.getElementById("{{ form.role.id }}").value;
    const aumField = document.getElementById("aum-field");
    if (role === "investor") {
      aumField.style.display = "block";
    } else {
      aumField.style.display = "none";
    }
  }

  // run once on page load
  document.addEventListener("DOMContentLoaded", toggleAUM);

  // run whenever role changes
  document.getElementById("{{ form.role.id }}").addEventListener("change", toggleAUM);
</script>

{% endblock %}
